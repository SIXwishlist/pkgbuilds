# $Id$
# Maintainer: Jacob Cook <jacob@citizenweb.io>

# NOTE: This only installs configurations needed to run a compatible instance of OpenLDAP for arkOS. See the main openldap package for code.

pkgname=arkos-openldap
pkgver=0.1
pkgrel=1
pkgdesc='Configurations for arkOS OpenLDAP server'
arch=('i686' 'x86_64' 'armv6h' 'armv7h')
url='http://www.openldap.org/'
license=('custom')
depends=('openldap')
backup=('etc/arkos/arkos-slapd.conf')
source=('slapd.conf' 'base.ldif' 'mailserver.schema' 'samba.schema')
install=arkos-openldap.install
md5sums=('48235cabde7c5c021316544eb39daeb8'
         'b1538ef722ec8188701b095b7d9c87bd'
         '6ff55a45464b7bcd8d23425b4354dfa7'
         '4a284e40c45da4d81e861a6b3b2911f1')

package() {
  cd $pkgname-$pkgver
  install -Dm644 slapd.conf "$pkgdir"/etc/arkos/arkos-slapd.conf
  install -Dm644 mailserver.schema "$pkgdir"/etc/openldap/schema/mailserver.schema
  install -Dm644 samba.schema "$pkgdir"/etc/openldap/schema/samba.schema
}
