# Maintainer: Jacob Cook <jacob at citizenweb dot io>

pkgname=arkos-core
pkgver=0.8.0
pkgrel=1
pkgdesc="Python system management libraries for arkOS"

arch=('any')
url="https://arkos.io/"
license=('GPLv3')
depends=('binutils' 'python' 'python2-ntplib' 'python2-nginx' 'python-dbus'
    'python2-cryptsetup' 'python2-pyparted' 'python2-ldap' 'python2-psutil'
    'python-netifaces' 'python2-gitpython' 'python2-gnupg' 'python2-pacman'
    'arkos-openldap' 'python-requests' 'python-cryptography' 'nginx' 'git'
    'fail2ban' 'supervisor')
makedepends=('python')
provides=('arkos-core')
source=("$pkgname-$pkgver.tar.gz"::"https://pkg.arkos.io/resources/$pkgname-$pkgver.tar.gz")
backup=('etc/arkos/settings.json' 'etc/arkos/policies.json')
md5sums=('d0075a68e2d75f8b1dd13cb5ca29b9d0')

build() {
  cd "$srcdir"
  tar xvzf "$pkgname-$pkgver.tar.gz"
}

package() {
  cd "$srcdir/$pkgname-$pkgver"
  python setup.py install --root="$pkgdir/" --optimize=1
}
