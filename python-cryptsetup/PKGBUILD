# Maintainer: Jacob Cook <jacob at citizenweb dot io>

pkgname=python-cryptsetup
pkgver=1.7.1
pkgrel=1
pkgdesc='Python bindings for cryptsetup'
arch=('i686' 'x86_64' 'armv6h' 'armv7h' 'aarch64')
license=(LGPL)
url='https://gitlab.com/cryptsetup/cryptsetup'
depends=(python cryptsetup)
source=(https://gitlab.com/cryptsetup/cryptsetup/repository/archive.tar.gz)
sha1sums=('05074ebe5ee2aa83340908144bd134b45e038284')

package() {
  cd "$srcdir/cryptsetup-master"*
  ./autogen.sh --enable-python --with-python_version=3
  make
  make install DESTDIR=$pkgdir
  rm -r "$pkgdir/usr/include" "$pkgdir/usr/sbin" "$pkgdir/usr/share"
  rm -r "$pkgdir/usr/lib/libcryptsetup"* "$pkgdir/usr/lib/pkgconfig"
}
